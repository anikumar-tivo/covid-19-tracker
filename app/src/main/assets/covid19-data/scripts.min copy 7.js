function tie_animate_element(e){e&&(tie_animate_reviews(e),tie.lazyload&&(e.find("[data-src]").each(function(){var e=jQuery(this);e.attr("src",e.data("src")),e.removeAttr("data-src")}),e.find("[data-lazy-bg]").each(function(){var e=jQuery(this);e.attr("style","background-image:url("+e.data("lazy-bg")+")"),e.removeAttr("data-lazy-bg")})))}function tie_animate_reviews(e){tie.is_taqyeem_active&&(e.find("[data-lazy-pie]").each(function(){var e=jQuery(this),i=parseInt(e.data("pct")),t=e.find(".circle_bar"),s=(100-i)/100*Math.PI*38;t.attr("style","stroke-dashoffset:"+s+"px"),e.removeAttr("data-lazy-pie")}),e.find("[data-lazy-percent]").each(function(){var e=jQuery(this);e.attr("style","width:"+e.data("rate-val")),e.removeAttr("data-lazy-percent")}))}var $doc=jQuery(document),$window=jQuery(window),$body=jQuery("body"),$themeHeader=jQuery("#theme-header"),$mainNav=jQuery("#main-nav"),$container=jQuery("#tie-container"),is_RTL=tie.is_rtl?!0:!1,intialWidth=window.innerWidth,isDuringAjax=!1,adBlock=!1,scrollBarWidth=!1,mobileMenu=!1;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var i,t=window.innerWidth,s=[];e(window).resize(function(){clearTimeout(i),i=setTimeout(function(){e(window).width()!==t&&(e(s).each(function(){e(this).flexMenu({undo:!0}).flexMenu(this.options)}),t=e(window).width())},200)}),e.fn.flexMenu=function(i){var t,o=e.extend({threshold:2,cutoff:2,linkText:"More",linkTitle:"View More",linkTextAll:"Menu",linkTitleAll:"Open/Close Menu",shouldApply:function(){return!0},showOnHover:!0,popupAbsolute:!0,popupClass:"",undo:!1},i);return this.options=o,(t=e.inArray(this,s))>=0?s.splice(t,1):s.push(this),this.each(function(){function i(e){return Math.ceil(e.offset().top)>=f+w}var t=e(this),s=t.find("> li"),n=s.length;if(n){var r,l,a,d,c,p,u=s.first(),h=s.last(),f=Math.floor(u.offset().top),w=Math.floor(u.outerHeight(!0)),v=!1;if(i(h)&&n>o.threshold&&!o.undo&&t.is(":visible")&&o.shouldApply()){var g=e('<ul class="flexMenu-popup" style="display:none;'+(o.popupAbsolute?" position: absolute;":"")+'"></ul>');for(g.addClass(o.popupClass),p=n;p>1;p--){if(l=i(r=t.find("> li:last-child")),p-1<=o.cutoff){e(t.children().get().reverse()).appendTo(g),v=!0;break}if(!l)break;r.appendTo(g)}v?t.append('<li class="flexMenu-viewMore flexMenu-allInPopup"><a href="#" title="'+o.linkTitleAll+'">'+o.linkTextAll+"</a></li>"):t.append('<li class="flexMenu-viewMore"><a href="#" title="'+o.linkTitle+'">'+o.linkText+"</a></li>"),i(a=t.find("> li.flexMenu-viewMore"))&&t.find("> li:nth-last-child(2)").appendTo(g),g.children().each(function(e,i){g.prepend(i)}),a.append(g),t.find("> li.flexMenu-viewMore > a").click(function(i){var t;t=a,e("li.flexMenu-viewMore.active").not(t).find("> ul").hide(),g.toggle(),i.preventDefault()}),o.showOnHover&&"undefined"!=typeof Modernizr&&!Modernizr.touch&&a.hover(function(){g.show()},function(){g.hide()})}else if(o.undo&&t.find("ul.flexMenu-popup")){for(d=(c=t.find("ul.flexMenu-popup")).find("li").length,p=1;d>=p;p++)c.find("> li:first-child").appendTo(t);c.remove(),t.find("> li.flexMenu-viewMore").remove()}}})}}),!function(e,i){"function"==typeof define&&define.amd?define(function(){return i(e)}):"object"==typeof exports?module.exports=i:e.emergence=i(e)}(this,function(){"use strict";var e,i,t,s,o,n,r,l={},a=function(){},d=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|playbook|silk/i.test(navigator.userAgent)},c=function(e){var i=e.offsetWidth,t=e.offsetHeight,s=0,o=0;do isNaN(e.offsetTop)||(s+=e.offsetTop),isNaN(e.offsetLeft)||(o+=e.offsetLeft);while(null!==(e=e.offsetParent));return{width:i,height:t,top:s,left:o}},p=function(e){if(function(e){return null===e.offsetParent}(e))return!1;var t,s,l,a=c(e),d=function(e){var i,t;return e!==window?(i=e.clientWidth,t=e.clientHeight):(i=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight),{width:i,height:t}}(i),p=function(e){return e!==window?{x:e.scrollLeft+c(e).left,y:e.scrollTop+c(e).top}:{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}(i),u=(a.width,a.height),h=a.top;return a.left,t=h+u*o,s=h+u-u*o,l=p.y+n,t<p.y-r+d.height&&s>l},u=function(){e||(clearTimeout(e),e=setTimeout(function(){l.engage(),e=null},t))};return l.init=function(e){var l,c,p=function(e,i){return parseInt(e||i,10)};i=(e=e||{}).container||window,s=void 0===e.handheld||e.handheld,t=p(e.throttle,250),l=e.elemCushion,c=.1,o=parseFloat(l||c),n=p(e.offsetTop,0),p(e.offsetRight,0),r=p(e.offsetBottom,0),p(e.offsetLeft,0),a=e.callback||a,"querySelectorAll"in document?(d()&&s||!d())&&(window.addEventListener?(window.addEventListener("load",u,!1),i.addEventListener("scroll",u,!1),i.addEventListener("resize",u,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&u()}),i.attachEvent("onscroll",u),i.attachEvent("onresize",u))):console.log("Emergence.js is not supported in this browser.")},l.engage=function(){if(tie.lazyload){for(var e=(d=document.querySelectorAll("[data-src]")).length,i=0;e>i;i++)c=d[i],p(c)&&(c.setAttribute("src",c.getAttribute("data-src")),c.removeAttribute("data-src"),c.className+=" lazy-done",a(c,"tie_img_visible"),jQuery.fn.masonry&&jQuery("#masonry-grid").masonry("layout"));var t=(d=document.querySelectorAll("[data-lazy-bg]")).length;for(i=0;t>i;i++)c=d[i],p(c)&&(c.setAttribute("style","background-image:url("+c.getAttribute("data-lazy-bg")+")"),c.removeAttribute("data-lazy-bg"),c.className=c.className,a(c,"tie_bg_visible"))}if(tie.is_taqyeem_active){var s=(d=document.querySelectorAll("[data-lazy-pie]")).length;for(i=0;s>i;i++)if(c=d[i],p(c)){var o=parseInt(c.getAttribute("data-pct")),n=c.getElementsByClassName("circle_bar")[0],r=(100-o)/100*Math.PI*38;n.setAttribute("style","stroke-dashoffset:"+r+"px"),c.removeAttribute("data-lazy-pie"),c.className=c.className,a(c,"tie_pie_visible")}var d,c,u=(d=document.querySelectorAll("[data-lazy-percent]")).length;for(i=0;u>i;i++)c=d[i],p(c)&&(c.setAttribute("style","width:"+c.getAttribute("data-rate-val")),c.removeAttribute("data-lazy-percent"),c.className=c.className,a(c,"tie_rate_visible"))}e||s||u||t||l.disengage()},l.disengage=function(){window.removeEventListener?(i.removeEventListener("scroll",u,!1),i.removeEventListener("resize",u,!1)):(i.detachEvent("onscroll",u),i.detachEvent("onresize",u)),clearTimeout(e)},l}),!function(e){"use strict";e.fn.tieFitVids=function(i){var t={customSelector:null,ignore:null};i&&e.extend(t,i);var s=['iframe[src*="player.vimeo.com"]','iframe[src*="player.twitch.tv"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="maps.google.com"]','iframe[src*="google.com/maps"]','iframe[src*="dailymotion.com"]','iframe[src*="twitter.com/i/videos"]',"object","embed"];if(s=s.join(","),t.customSelector&&s.push(t.customSelector),document.querySelectorAll(s).length){var o=".tie-ignore-fitvid, #buddypress";return t.ignore&&(o=o+", "+t.ignore),this.each(function(){e(this).find(s).each(function(){var i=e(this);if(!(i.parents(o).length>0||("embed"===this.tagName.toLowerCase()||"object"===this.tagName.toLowerCase())&&i.parent("object").length||i.parent(".tie-fluid-width-video-wrapper").length)){i.css("height")||i.css("width")||!isNaN(i.attr("height"))&&!isNaN(i.attr("width"))||(i.attr("height",9),i.attr("width",16));var t=("object"===this.tagName.toLowerCase()||i.attr("height")&&!isNaN(parseInt(i.attr("height"),10))?parseInt(i.attr("height"),10):i.height())/(isNaN(parseInt(i.attr("width"),10))?i.width():parseInt(i.attr("width"),10));i.removeAttr("height").removeAttr("width"),i.wrap('<div class="tie-fluid-width-video-wrapper"></div>').parent(".tie-fluid-width-video-wrapper").css("padding-top",100*t+"%")}})})}}}(window.jQuery),$doc.ready(function(){"use strict";function e(e){var i=!0,t=0,s=0,o=0,n=0,r=!1,l="upwards"==tie.sticky_mobile_behavior?!0:!1,a="auto",d=0,c=0,p=window.innerWidth;if(!(p>991)){if("size"!==a){var u=0,h=0;if($body.hasClass("admin-bar")){var f=jQuery("#wpadminbar");f.length>0&&(u=f.outerHeight(),h=u,"resize"!==e.type&&(r=h),"absolute"===f.css("position")&&(h=0,"resize"!==e.type&&(r=0)))}var w=$themeHeader.hasClass("header-layout-1")?$mainNav:jQuery(".logo-container"),v=w.parent(),g=w.not(".fixed-nav").offset();c=v.outerHeight()+g.top,g&&!w.hasClass(".fixed-nav")?(d=g.top,n=g.top):d=n,32===r?46===u?d=d-h+14:d-=h:(46===r||0===r)&&(32===u?d=d-h-14:d-=h)}var y=jQuery(w).outerHeight();v.data("min-height",c-y),v.height(y),"resize"!==e.type&&(l&&v.addClass("sticky-type-slide"),jQuery(window).scroll(function(e){if(e.originalEvent){var n=jQuery(window).scrollTop();l?(n>c&&w.addClass("fixed-nav"),d>=n&&w.removeClass("fixed-nav"),n>s?(t=0,o="down",w.addClass("sticky-down").removeClass("sticky-up")):(t+=s-n,o="up",w.addClass("sticky-up").removeClass("sticky-down")),t>150&&"up"===o?(w.addClass("sticky-nav-slide-visible"),jQuery(document).trigger("sticky-nav-visible")):(w.removeClass("sticky-nav-slide-visible"),jQuery(document).trigger("sticky-nav-hide")),n>c+150?w.addClass("sticky-nav-slide"):w.removeClass("sticky-nav-slide"),i&&n>c+150&&(w.addClass("sticky-nav-slide sticky-nav-slide-visible sticky-up"),jQuery(document).trigger("sticky-nav-visible"),t=151,o="up",i=!1)):n>d?(w.addClass("fixed-nav default-behavior-mode"),jQuery(document).trigger("sticky-nav-visible")):(w.removeClass("fixed-nav"),jQuery(document).trigger("sticky-nav-hide")),s=n}}))}}function i(e){jQuery(e).show(),"#tie-popup-search-wrap"==e&&u.find('form input[type="text"]').focus(),tie_animate_element(jQuery(e)),scrollBarWidth||(scrollBarWidth=100-document.getElementById("is-scroller").offsetWidth),setTimeout(function(){$body.addClass("tie-popup-is-opend")},10),jQuery("html").css({marginRight:scrollBarWidth,overflow:"hidden"})}function t(){jQuery.when(u.fadeOut(500)).done(function(){jQuery("html").removeAttr("style")}),jQuery("#autocomplete-suggestions").fadeOut(),$body.removeClass("tie-popup-is-opend"),jQuery("#tie-popup-search-input").val("")}function s(){if(!tie.mobile_menu_active||mobileMenu)return!1;var e=jQuery("#mobile-menu"),i="";if(e.hasClass("has-custom-menu")){var t=jQuery("#mobile-custom-menu");t.find("div.mega-menu-content").remove(),t.find("li.menu-item-has-children:not(.hide-mega-headings)").append('<span class="mobile-arrows fa fa-chevron-down"></span>')}else{var s=$mainNav.find("div.main-menu > ul");if(s.length){var i=s.clone();i.find(".mega-menu-content").remove(),i.removeAttr("id").find("li").removeAttr("id"),i.find("li.menu-item-has-children:not(.hide-mega-headings)").append('<span class="mobile-arrows fa fa-chevron-down"></span>'),e.append(i);var o=i.find("> li");1==o.length&&(o.find("> .mobile-arrows").toggleClass("is-open"),o.find("> ul").show())}if(tie.mobile_menu_top){var n=jQuery("#top-nav div.top-menu > ul");if(n.length){var r=n.clone();r.removeAttr("id").find("li").removeAttr("id"),r.find("li.menu-item-has-children").append('<span class="mobile-arrows fa fa-chevron-down"></span>'),e.append(r)}}}tie.mobile_menu_parent?jQuery("li.menu-item-has-children .mobile-arrows","#mobile-menu").click(function(){return jQuery(this).toggleClass("is-open").closest(".menu-item").find("ul").first().slideToggle(300),!1}):jQuery("li.menu-item-has-children > a, li.menu-item-has-children > .mobile-arrows","#mobile-menu").click(function(){return jQuery(this).parent().find("ul").first().slideToggle(300),jQuery(this).parent().find("> .mobile-arrows").toggleClass("is-open"),!1}),mobileMenu=!0}if(performance.mark("TieStart"),emergence.init(),tie.ad_blocker_detector&&"undefined"==typeof $tieE3&&(adBlock=!0,i("#tie-popup-adblock")),$doc.on("click",".profile-btn",function(){return!1}),$container.tieFitVids(),jQuery.fn.masonry){var o=jQuery("#masonry-grid");if(o.length){var n=jQuery("#media-page-layout");o.masonry({columnWidth:".grid-sizer",gutter:".gutter-sizer",itemSelector:".post-element",percentPosition:!0,isInitLayout:!1,initLayout:!1,originLeft:!is_RTL,isOriginLeft:!is_RTL}).addClass("masonry-loaded"),o.masonry("on","layoutComplete",function(){isDuringAjax=!1}),o.masonry(),o.imagesLoaded().progress(function(){o.masonry("layout")}),n.find(".loader-overlay").fadeOut().remove(),n.find(".post-element").addClass("tie-animate-slideInUp tie-animate-delay")}}for(var r=jQuery(".tabs-wrapper").get(),l=null,a=0,d=r.length;d>a;a++){if(l=jQuery(r[a]),l.find(".tabs li").first().addClass("active"),l.hasClass("tabs-vertical")){var c=l.find(".tabs").outerHeight();l.find(".tab-content").css({minHeight:c})}l.find(".tabs li").on("click",function(){var e=jQuery(this);if(!e.hasClass("active")){e.parents(".tabs").find("li").removeClass("active"),e.addClass("active"),e.parents(".tabs-wrapper").find(".tab-content").hide().addClass("is-not-active");var i=e.find("a").attr("href"),t=jQuery(i).show();t.find(".tab-content-elements li").addClass("tie-animate-slideInUp tie-animate-delay"),t.find(".tab-content-wrap").addClass("tie-animate-slideInUp"),tie_animate_element(t)}return!1})}var p=jQuery(".is-flex-tabs, .is-flex-tabs-shortcodes .tabs");p.length&&(p.flexMenu({threshold:0,cutoff:0,linkText:'<span class="tie-icon-dots-three-horizontal"><span class="screen-reader-text">More</span></span>',linkTextAll:'<span class="tie-icon-dots-three-horizontal"><span class="screen-reader-text">More</span></span>',linkTitle:"",linkTitleAll:"",showOnHover:intialWidth>991?!0:!1}),p.css({opacity:1})),tie.sticky_mobile&&($window.on("load",e),$window.resize(e));var u=jQuery(".tie-popup");$doc.on("click",".tie-popup-trigger",function(e){e.preventDefault(),i("#tie-popup-login")}),jQuery(".tie-search-trigger").length&&(tie.type_to_search&&window.self===window.top&&$doc.bind("keydown",function(e){!jQuery("input, textarea").is(":focus")&&!jQuery("#tie-popup-login").is(":visible")&&!e.ctrlKey&&!e.metaKey&&e.keyCode>=65&&e.keyCode<=90&&($container.removeClass("side-aside-open"),i("#tie-popup-search-wrap"))}),jQuery(".tie-search-trigger").on("click",function(){return i("#tie-popup-search-wrap"),!1})),u.length&&!adBlock&&$doc.keyup(function(e){"27"==e.which&&$body.hasClass("tie-popup-is-opend")&&t()}),u.on("click",function(e){return jQuery(e.target).is(".tie-popup:not(.is-fixed-popup)")?(t(),!1):void 0}),jQuery(".tie-btn-close").on("click",function(){return t(),!1});var h=function(){$container.removeClass("side-aside-open"),$container.off("touchstart click",f)},f=function(e){return $container.hasClass("side-aside-open")?void(jQuery(e.target).parents(".side-aside").length||h()):!1},w=jQuery(".side-aside-nav-icon, #mobile-menu-icon");w.on("touchstart click",function(){return s(),$container.addClass("side-aside-open"),$container.on("touchstart click",f),jQuery("#autocomplete-suggestions").hide(),!1}),$doc.on("keydown",function(e){27==e.which&&h()}),jQuery(".close-side-aside").on("click",function(){return h(),!1}),$window.resize(function(){intialWidth=window.innerWidth,991==intialWidth&&h()}),jQuery('a[href^="#go-to-"]').on("click",function(){var e=jQuery(this).attr("href"),i="#"+e.slice(7),t=tie.sticky_desktop?100:40,s=jQuery(i).offset().top-t;return jQuery("html, body").animate({scrollTop:s},"slow"),!1});var v=jQuery("#go-to-top"),g=!1,y=!1;v.length&&(g=!0),$window.scroll(function(){g&&(y&&window.clearTimeout(y),y=window.setTimeout(function(){$window.scrollTop()>100?v.addClass("show-top-button"):v.removeClass("show-top-button")},100))}),$doc.on("click",".block-pagination",function(){var e=jQuery(this),i=e.closest(".mag-box"),t=i.get(0).id,s=i.closest(".section-item"),o=i.attr("data-term"),n=i.attr("data-current"),r=i.find(".posts-list-container"),l=i.find(".mag-box-container"),a=jQuery.extend({},window["js_"+t.replace("tie-","tie_")]),d="posts-items",c=!1,p="single";if(n&&a){if(o&&(a.tags?a.tags=o:a.id=o),a.ajax_class&&(d=a.ajax_class),e.hasClass("pagination-disabled"))return!1;e.hasClass("load-more-button")?(n++,c=!0):e.hasClass("next-posts")?(n++,i.find(".prev-posts").removeClass("pagination-disabled")):e.hasClass("prev-posts")&&(n--,i.find(".next-posts").removeClass("pagination-disabled")),s.hasClass("full-width")&&(p="full"),jQuery.ajax({url:tie.ajaxurl,type:"post",data:{action:"tie_blocks_load_more",block:a,page:n,width:p},beforeSend:function(){if(c)e.html(tie.ajax_loader);else{var i=l.height();l.append(tie.ajax_loader).attr("style","min-height:"+i+"px"),r.addClass("is-loading")}},success:function(t){if(t=jQuery.parseJSON(t),t.hide_next?(i.find(".next-posts").addClass("pagination-disabled"),(e.hasClass("show-more-button")||c)&&e.html(t.button)):c&&e.html(e.attr("data-text")),t.hide_prev&&i.find(".prev-posts").addClass("pagination-disabled"),t=t.code,c){var s='<ul class="'+d+" posts-list-container clearfix posts-items-loaded-ajax posts-items-"+n+'">'+t+"</ul>";s=jQuery(s),l.append(s)}else{var s='<ul class="'+d+" posts-list-container posts-items-"+n+'">'+t+"</ul>";s=jQuery(s),l.html(s)}var o=i.find(".posts-items-"+n);o.find("li").addClass("tie-animate-slideInUp tie-animate-delay"),tie_animate_element(o),l.attr("style","")}}),i.attr("data-current",n)}return!1}),$doc.on("click",".block-ajax-term",function(){var e=jQuery(this),i=e.closest(".mag-box"),t=e.attr("data-id"),s=i.get(0).id,o=i.find(".posts-list-container"),n=i.find(".mag-box-container"),r=jQuery.extend({},window["js_"+s.replace("tie-","tie_")]),l="posts-items";return r&&(i.attr("data-current",1),t?(r.tags?r.tags=t:r.id=t,i.attr("data-term",t)):i.removeAttr("data-term"),r.ajax_class&&(l=r.ajax_class),jQuery.ajax({url:tie.ajaxurl,type:"post",data:{action:"tie_blocks_load_more",block:r},beforeSend:function(){var e=n.height();n.append(tie.ajax_loader).attr("style","min-height:"+e+"px"),o.addClass("is-loading")},success:function(t){t=jQuery.parseJSON(t),i.find(".block-pagination").removeClass("pagination-disabled");var s=i.find(".show-more-button");s.html(s.attr("data-text")),i.find(".block-ajax-term").removeClass("active"),e.addClass("active"),t.hide_next&&(i.find(".next-posts").addClass("pagination-disabled"),i.find(".show-more-button").html(t.button)),t.hide_prev&&i.find(".prev-posts").addClass("pagination-disabled"),t=t.code;var o='<ul class="'+l+' ajax-content posts-list-container">'+t+"</ul>";o=jQuery(o),n.html(o),n.find("li").addClass("tie-animate-slideInUp tie-animate-delay"),tie_animate_element(n),n.attr("style","")}})),!1}),performance.mark("TieEnd"),performance.measure("TieLabs Custom JS","TieStart","TieEnd")});
